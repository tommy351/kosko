/*! @algolia/autocomplete-preset-algolia 1.0.0-alpha.44 | MIT License | Â© Algolia, Inc. and contributors | https://github.com/algolia/autocomplete */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports):"function"==typeof define&&define.amd?define(["exports"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self)["@algolia/autocomplete-preset-algolia"]={})}(this,(function(e){"use strict";function t(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function r(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function n(e){for(var n=1;n<arguments.length;n++){var i=null!=arguments[n]?arguments[n]:{};n%2?r(Object(i),!0).forEach((function(r){t(e,r,i[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(i)):r(Object(i)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(i,t))}))}return e}function i(e){return function(e){if(Array.isArray(e))return u(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return u(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);"Object"===r&&e.constructor&&(r=e.constructor.name);if("Map"===r||"Set"===r)return Array.from(e);if("Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return u(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function a(e,t){return t.reduce((function(e,t){return e&&e[t]}),e)}var o="__aa-highlight__",l="__/aa-highlight__";function s(e){var t=e.highlightedValue.split(o),r=t.shift(),n=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return{get:function(){return e},add:function(t){var r=e[e.length-1];(null==r?void 0:r.isHighlighted)===t.isHighlighted?e[e.length-1]={value:r.value+t.value,isHighlighted:r.isHighlighted}:e.push(t)}}}(r?[{value:r,isHighlighted:!1}]:[]);return t.forEach((function(e){var t=e.split(l);n.add({value:t[0],isHighlighted:!0}),""!==t[1]&&n.add({value:t[1],isHighlighted:!1})})),n.get()}function c(e){var t=e.hit,r=e.attribute,n=Array.isArray(r)?r:[r],u=a(t,["_highlightResult"].concat(i(n),["value"]));return"string"!=typeof u&&(u=a(t,n)||""),s({highlightedValue:u})}var g={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},h=new RegExp(/\w/i),f=/&(amp|quot|lt|gt|#39);/g,p=RegExp(f.source);function d(e,t){var r,n,i,u=e[t],a=(null===(r=e[t+1])||void 0===r?void 0:r.isHighlighted)||!0,o=(null===(n=e[t-1])||void 0===n?void 0:n.isHighlighted)||!0;return h.test((i=u.value)&&p.test(i)?i.replace(f,(function(e){return g[e]})):i)||o!==a?u.isHighlighted:o}function v(e){return e.some((function(e){return e.isHighlighted}))?e.map((function(t,r){return n(n({},t),{},{isHighlighted:!d(e,r)})})):e.map((function(e){return n(n({},e),{},{isHighlighted:!1})}))}function m(e){var t=e.hit,r=e.attribute,n=Array.isArray(r)?r:[r],u=a(t,["_snippetResult"].concat(i(n),["value"]));return"string"!=typeof u&&(u=a(t,n)||""),s({highlightedValue:u})}var y="1.0.0-alpha.44";function b(e){var t=e.searchClient,r=e.queries,u=e.userAgents,a=void 0===u?[]:u;"function"==typeof t.addAlgoliaAgent&&[{segment:"autocomplete-core",version:y}].concat(i(a)).forEach((function(e){var r=e.segment,n=e.version;t.addAlgoliaAgent(r,n)}));return t.search(r.map((function(e){var t=e.indexName,r=e.query,i=e.params;return{indexName:t,query:r,params:n({hitsPerPage:5,highlightPreTag:o,highlightPostTag:l},i)}})))}e.getAlgoliaFacetHits=function(e){return function(e){var t=e.searchClient,r=e.queries,u=e.userAgents,a=void 0===u?[]:u;return"function"==typeof t.addAlgoliaAgent&&[{segment:"autocomplete-core",version:y}].concat(i(a)).forEach((function(e){var r=e.segment,n=e.version;t.addAlgoliaAgent(r,n)})),t.searchForFacetValues(r.map((function(e){var t=e.indexName,r=e.params;return{indexName:t,params:n({highlightPreTag:o,highlightPostTag:l},r)}})))}({searchClient:e.searchClient,queries:e.queries,userAgents:e.userAgents}).then((function(e){return e.map((function(e){return e.facetHits.map((function(e){return{label:e.value,count:e.count,_highlightResult:{label:{value:e.highlighted}}}}))}))}))},e.getAlgoliaHits=function(e){return b({searchClient:e.searchClient,queries:e.queries,userAgents:e.userAgents}).then((function(e){return e.results.map((function(e){return e.hits.map((function(t){return n(n({},t),{},{__autocomplete_indexName:e.index,__autocomplete_queryID:e.queryID})}))}))}))},e.getAlgoliaResults=function(e){return b({searchClient:e.searchClient,queries:e.queries,userAgents:e.userAgents}).then((function(e){return e.results}))},e.parseAlgoliaHitHighlight=c,e.parseAlgoliaHitReverseHighlight=function(e){return v(c(e))},e.parseAlgoliaHitReverseSnippet=function(e){return v(m(e))},e.parseAlgoliaHitSnippet=m,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=index.production.js.map
